{"version":3,"sources":["Filter.js","Form.js","List.js","Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","filterValue","handleFilterChange","value","onChange","Form","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","List","filteredList","removePerson","persons","length","map","person","i","key","name","number","onClick","id","Notification","message","error","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setFilteredList","setFilterValue","setNewName","setNewNumber","setMessage","setError","useEffect","personService","changePerson","listFilter","catch","console","log","messageSetter","setTimeout","nameValidator","checkedName","find","list","item","toLowerCase","updatedList","filter","includes","note","event","target","preventDefault","personObject","window","confirm","concat","deletedName","newList","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9c392ff7.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ filterValue, handleFilterChange }) => {\n  return (\n    <div>\n      <div>\n        Filter by name:{' '}\n        <input value={filterValue} onChange={handleFilterChange} />\n      </div>\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst Form = ({\n  addPerson,\n  newName,\n  handleNameChange,\n  newNumber,\n  handleNumberChange\n}) => {\n  return (\n    <div>\n      <h2>Add new</h2>\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Form;\n","import React from 'react';\n\nconst List = ({ filterValue, filteredList, removePerson, persons }) => {\n  return (\n    <div>\n      <h2>Numbers</h2>\n      {filterValue.length > 0 ? (\n        <ul>\n          {filteredList.map((person, i) => (\n            <div key={i}>\n              <li key={i}>\n                {person.name} {person.number}\n              </li>\n              <button onClick={() => removePerson(person.id)}>delete</button>\n            </div>\n          ))}\n        </ul>\n      ) : (\n        <ul>\n          {persons.map((person, i) => (\n            <div key={i}>\n              <li key={i}>\n                {person.name} {person.number}\n              </li>\n              <button onClick={() => removePerson(person.id)}>delete</button>\n            </div>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default List;\n","import React from 'react';\n\nconst Notification = ({ message, error }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return (\n    <div>\n      <div className={error ? 'error' : 'success'}>{message}</div>\n    </div>\n  );\n};\n\nexport default Notification;\n","import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n};\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n};\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then(response => response.data);\n};\n\nexport default { getAll, create, update, remove };\n","import React, { useState, useEffect } from 'react';\nimport Filter from './Filter';\nimport Form from './Form';\nimport List from './List';\nimport Notification from './Notification';\nimport personService from './services/persons';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [filteredList, setFilteredList] = useState([]);\n  const [filterValue, setFilterValue] = useState('');\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [message, setMessage] = useState(null);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    personService.getAll().then(response => {\n      setPersons(response);\n    });\n  }, []);\n\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = event => {\n    setFilterValue(event.target.value);\n    listFilter(event.target.value, persons);\n  };\n\n  const addPerson = event => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber\n    };\n    if (\n      nameValidator(newName) &&\n      window.confirm(\n        `${newName} is already in the phonebook, replace the old number wiht new one?`\n      )\n    ) {\n      const id = [persons.find(person => person.name === newName)][0].id;\n      changePerson(id, personObject, newName);\n      messageSetter(newName, 'changed successfully!');\n    } else if (!nameValidator(newName)) {\n      personService.create(personObject).then(response => {\n        messageSetter(newName, 'created succesfully!');\n        setPersons(persons.concat(response));\n        setNewName('');\n        setNewNumber('');\n      });\n    } else {\n      setNewName('');\n      setNewNumber('');\n    }\n  };\n\n  const changePerson = (id, newObject, name) => {\n    personService\n      .update(id, newObject)\n      .then(\n        personService.getAll().then(response => {\n          setPersons(response);\n          listFilter(filterValue, response);\n          setNewName('');\n          setNewNumber('');\n        })\n      )\n      .catch(error => {\n        console.log(error);\n        setError('true');\n        messageSetter(name, 'was already removed from server.');\n        setTimeout(() => {\n          setError(false);\n        }, 5000);\n      });\n  };\n\n  const removePerson = id => {\n    const deletedName = [persons.find(person => person.id === id)][0].name;\n    if (window.confirm(`Do you really want to remove ${deletedName}?`)) {\n      const newList = persons.filter(person => person.id !== id);\n      personService\n        .remove(id)\n        .then(messageSetter(deletedName, 'deleted!'))\n        .then(setPersons(persons.filter(person => person.id !== id)))\n        .then(listFilter(filterValue, newList));\n    }\n  };\n\n  const nameValidator = checkedName => {\n    if (persons.find(person => person.name === checkedName)) {\n      return true;\n    }\n  };\n\n  const listFilter = (filterValue, list) => {\n    const item = filterValue.toLowerCase();\n    const updatedList = list.filter(person =>\n      person.name.toLowerCase().includes(item, 0)\n    );\n    setFilteredList(updatedList);\n  };\n\n  const messageSetter = (name, note) => {\n    setMessage(`${name} ${note}`);\n    setTimeout(() => {\n      setMessage(null);\n    }, 5000);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} error={error} />\n      <Filter\n        filterValue={filterValue}\n        handleFilterChange={handleFilterChange}\n      />\n      <Form\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <List\n        filterValue={filterValue}\n        filteredList={filteredList}\n        persons={persons}\n        removePerson={removePerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}